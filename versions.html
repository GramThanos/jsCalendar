<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>jsCalendar</title>
		<link rel="shortcut icon" href="favicon.ico" />
		<meta name="description" content="jsCalendar - Just a simple javascript calendar library">
		<meta name="author" content="Grammatopoulos Athanasios-Vasileios">

		<!-- Base Style -->
		<link rel="stylesheet" type="text/css" href="css/normalize.css">
		<link rel="stylesheet" type="text/css" href="css/responsive.css">

		<!-- jsCalendar -->
		<script type="text/javascript" src="js/jsCalendar.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/jsCalendar.min.css">

		<!-- GitInfoHub -->
		<script type="text/javascript" src="js/gitinfohub.js"></script>

		<!-- Custom Style -->
		<link rel="stylesheet" type="text/css" href="css/style.css">

		<!--[if lt IE 9]>
			<script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
		<![endif]-->
	</head>
	<body>
		<div class="section section-header">
			<div class="header">
				<div class="wrapper-left">
					<div class="title">jsCalendar</div>
					<div class="sub-title">Just a simple javascript calendar</div>
					<ul>
						<li><a href="index.html">Home</a></li>
						<li><a href="docs.html">Docs</a></li>
						<li><a href="themes.html">Themes</a></li>
						<li><a href="demos.html">Demos</a></li>
						<li><a href="https://github.com/GramThanos/jsCalendar/" target="_blank">Github</a></li>
					</ul>
					<br>
					<a href="https://github.com/GramThanos/jsCalendar/releases/download/v1.4.5/jsCalendar_v1.4.5.zip" class="download-button">
						Download<br>
						<span>version 1.4.5</span>
					</a>
				</div>
				<div class="wrapper-right">
					<div class="auto-jsCalendar"></div>
				</div>
				<div class="wrapper-clear"></div>
			</div>
		</div>

		<div class="section section-menu">
			<div class="section-wrapper">

				<table id="versions-table" style="width: 100%;">
					<tr>
						<th style="width:100px;">Version</th>
						<th style="width:100px;">Released</th>
						<th style="width:130px;">Changelog</th>
						<th>Download</th>
					</tr>
				</table>
				<div id="total-downloads" style="text-align:right;padding:10px 10px 0px 10px;font-size:0.8em;">...</div>

				<!-- Get version info -->
				<script type="text/javascript">
					// Get elements
					var table = document.getElementById("versions-table");
					var total = document.getElementById("total-downloads");
					// Get repo
					var project = 'https://github.com/GramThanos/jsCalendar';
					var repo = new GitInfoHub("GramThanos", "jsCalendar");
					var tags = ['v1.4.5', 'v1.4.4', 'v1.4.3', 'v1.4.2', 'v1.4.1', 'v1.4', 'v1.3', 'v1.2'];

					// Info vars
					var downloads = 0;
					var loading = tags.length;

					// Get info for each tag
					var row, col, date, a, small;
					for (var i = 0; i < tags.length; i++) {
						// Create table row
						row = document.createElement('tr');

						// Tag
						col = document.createElement('td');
						col.textContent = tags[i];
						row.appendChild(col);

						// Date
						date = document.createElement('td');
						row.appendChild(date);

						// Changelog
						col = document.createElement('td');
						a = document.createElement('a');
						a.href = project + '/releases/tag/' + tags[i];
						a.textContent = 'Changelog link';
						col.appendChild(a);
						row.appendChild(col);

						// Download
						col = document.createElement('td');
						a = document.createElement('a');
						a.href = project + '/releases/download/' + tags[i] + '/jsCalendar_' + tags[i] + '.zip';
						a.textContent = 'Download link';
						col.appendChild(a);
						small = document.createElement('small');
						col.appendChild(small);
						row.appendChild(col);

						table.appendChild(row);

						// Get tag info
						(function(tag, date, info){
							repo.getVersion(tag, function(data){
								var n, d;
								if (data && data.assets) {
									date.textContent = data.published_at.match(/\d\d\d\d-\d\d-\d\d/)[0];
									if (data.assets.length > 0) {
										n = data.assets[0].download_count;
										info.textContent = '' + 
											readableSize(data.assets[0].size) + ' - ' +
											addDots(n) + ' download' + (n > 1 ? 's' : '');
										downloads += n;
										info.style.padding = '0 5px';
									}
								}
								loading--;
								if (loading === 0) {
									total.textContent = 'Downloaded ' + addDots(downloads) + ' times in total!';
								}
							});
						})(tags[i], date, small);
					}

					function readableSize(bytes) {
						if (Math.abs(bytes) < 1024) return bytes + ' B';
						var units = ['kB','MB','GB','TB','PB','EB','ZB','YB'];
						var u = -1;
						do {
							bytes /= 1024;
							++u;
						} while(Math.abs(bytes) >= 1024 && u < units.length - 1);
						return bytes.toFixed(1) + '' + units[u];
					}
					function addDots(x) {
						return x.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
					}
				</script>

			</div>
		</div>

		<div class="section section-footer">
			<div class="section-wrapper">
				Created with <span class="heart">&hearts;</span> by Grammatopoulos Athanasios-Vasileios<br>
				<a href="https://raw.githubusercontent.com/GramThanos/jsCalendar/master/LICENSE">MIT License</a>
				&bull; <a href="versions.html">Versions</a>
				&bull; <a href="generator.html">Code Generator</a>
			</div>
		</div>

		<a href="https://github.com/GramThanos/jsCalendar/" class="github-ribbon"></a>

	</body>
</html>
